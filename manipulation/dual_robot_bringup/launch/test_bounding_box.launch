<launch>

    <arg name="use_rviz" default="true"/>
    <arg name="rviz_config" default="$(find dual_robot_bringup)/config/rviz.rviz"/>
  
    <!-- Launch Vision-->
    <!-- Rear Mounted Camera -->
    <!-- <include file="$(find realsense2_camera)/launch/rs_camera.launch" ns="mounted_cam">
      <arg name="filters"                        value="pointcloud"/>
      <arg name="align_depth"                    value="true"/>
      <arg name="serial_no"                      value="151322067775"/>
    </include> -->

    <!-- Arm Mounted Camera -->
    <include file="$(find realsense2_camera)/launch/rs_camera.launch" ns="arm_cam">
        <arg name="filters"                        value="pointcloud"/>
        <arg name="align_depth"                    value="true"/>
        <arg name="serial_no"                      value="109122071019"/>
      </include>

      <!-- Nodelet manager for depth PC processing -->
  <node pkg="nodelet" type="nodelet" name="nodelet_manager" args="manager" />
  <node pkg="nodelet" type="nodelet" name="nodelet1"
    args="load depth_image_proc/point_cloud_xyz nodelet_manager">
    <remap from="camera_info" to="/mounted_cam/camera/aligned_depth_to_color/camera_info"/>
    <remap from="image_rect" to="/mounted_cam/seg_depth/image_raw"/> 

    <remap from="points" to="/mounted_cam/rscamera/depth_image/points"/>
  </node>

  <node pkg="nodelet" type="nodelet" name="nodelet2"
    args="load depth_image_proc/point_cloud_xyz nodelet_manager">
    <remap from="camera_info" to="/arm_cam/camera/aligned_depth_to_color/camera_info"/>
    <remap from="image_rect" to="/arm_cam/seg_depth/image_raw"/>

    <remap from="points" to="/arm_cam/rscamera/depth_image/points"/>
  </node>

  <node pkg="nodelet" type="nodelet" name="nodelet3"
    args="load depth_image_proc/point_cloud_xyz nodelet_manager">
    <remap from="camera_info" to="/arm_cam/camera/aligned_depth_to_color/camera_info"/>
    <remap from="image_rect" to="/arm_cam/camera/aligned_depth_to_color/image_raw"/>

    <remap from="points" to="/arm_cam/rscamera/full_depth_image/points"/>
  </node>
  
  
    <!--Nodes involved with drawing plant bounding box -->
    <node pkg="vision" type="plant_bounding_box.py" name="plant_bounding_box" output="screen" /> 

  <!-- Conditionally launch RViz based on the Use_rviz argument -->
  <!-- <node name="rviz" pkg="rviz" type="rviz" args="-d $(arg rviz_config)" output="screen" if="$(arg use_rviz)"/> -->

  <!-- Launch real robots -->
  <!-- <include file="$(find wire_manipulation_moveit_config)/launch/wire_manipulation_moveit.launch"> </include> -->
  <!-- Launch demo robots -->
  <include file="$(find wire_manipulation_moveit_config)/launch/demo.launch"> </include>

  <!--Dual Robot control service-->
  <node pkg="dual_robot_control" type="robot_services.py" name="robot_services" output="screen" />

  
  </launch>
  